/**
 * @file Firestore Security Rules
 * @description This ruleset enforces open access to all collections.
 *
 * Core Philosophy:
 * This ruleset is for the prototyping stage and therefore has open access for all collections.
 *
 * Data Structure:
 * - /events/{eventId}: Stores event details.
 * - /participants/{participantId}: Stores participant registration and certificate status information.
 * - /certificates/{certificateId}: Stores certificate data.
 * - /certificateTemplates/{certificateTemplateId}: Stores certificate template designs.
 *
 * Key Security Decisions:
 * - All collections are publicly readable and writable.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows read and write access to all events.
     * @path /events/{eventId}
     * @allow (get, list) Any user can read event data.
     * @allow (create, update, delete) Any user can write event data.
     * @deny none
     * @principle Open access for prototyping.
     */
    match /events/{eventId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows read and write access to all participants.
     * @path /participants/{participantId}
     * @allow (get, list) Any user can read participant data.
     * @allow (create, update, delete) Any user can write participant data.
     * @deny none
     * @principle Open access for prototyping.
     */
    match /participants/{participantId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows read and write access to all certificates.
     * @path /certificates/{certificateId}
     * @allow (get, list) Any user can read certificate data.
     * @allow (create, update, delete) Any user can write certificate data.
     * @deny none
     * @principle Open access for prototyping.
     */
    match /certificates/{certificateId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows read and write access to all certificate templates.
     * @path /certificateTemplates/{certificateTemplateId}
     * @allow (get, list) Any user can read certificate template data.
     * @allow (create, update, delete) Any user can write certificate template data.
     * @deny none
     * @principle Open access for prototyping.
     */
    match /certificateTemplates/{certificateTemplateId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }
  }
}